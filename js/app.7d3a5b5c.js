(function(){"use strict";var t={9340:function(t,e,i){var r=i(6369),a=function(){var t=this,e=t._self._c;return e("div",[e("ProductsList")],1)},s=[],o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("button",{staticClass:"btn btn-create",on:{click:t.createProduct}},[t._v("Создать новый продукт")]),e("CreateProductModal",{attrs:{isModalCreateOpen:t.getIsModalCreateOpen,createdProduct:t.getCreatedProduct},on:{closeModal:t.closeModal,saveCreateProduct:t.saveCreateProduct}}),t.getIsCardsLoading?e("div",[e("img",{attrs:{src:i(9992)}}),e("p",[t._v("Загружаем продукты ...")])]):t.getIsCardsLoadingFailing?e("div",[e("p",[t._v("Не удалось загрузить продукты")])]):t.getIsCardCreating?e("div",[e("img",{attrs:{src:i(9992)}}),e("p",[t._v("Сохранение нового продукта...")])]):t.getIsCardCreatingFailing?e("div",[e("p",[t._v("Не удалось создать новый продукт")])]):t.getIsCardEditing?e("div",[e("img",{attrs:{src:i(9992)}}),e("p",[t._v("Редактирование продукта...")])]):t.getIsCardEditingFailing?e("div",[e("p",[t._v("Не удалось отредактировать продукт")])]):t.getIsCardDeleting?e("div",[e("img",{attrs:{src:i(9992)}}),e("p",[t._v("Удаление продукта...")])]):t.getIsCardDeletingFailing?e("div",[e("p",[t._v("Не удалось удалить продукт")])]):e("div",{staticClass:"product-list"},[e("div",{staticClass:"product-list__column"},[e("h4",{staticClass:"title product-list__column-1"},[t._v("Начальная стадия")]),e("label",{attrs:{for:"sortList1"}},[t._v("Сортировка по рейтингу: ")]),e("select",{staticClass:"product-list__select-sort",attrs:{id:"sortList1"},on:{change:function(e){return t.sortListByRating({list:t.getList1,sortDirection:e.target.value})}}},[e("option",{attrs:{value:"",hidden:""}},[t._v("Выбрать")]),e("option",{attrs:{value:"asc"}},[t._v("по возрастанию")]),e("option",{attrs:{value:"desc"}},[t._v("по убыванию")])]),e("draggable",{ref:"list1Draggable",staticClass:"list-group",attrs:{list:t.getList1,group:"products"}},t._l(t.getList1,(function(i){return e("div",{key:i.id,staticClass:"product-card__wrapper product-list__column-1",on:{click:function(e){return t.moveCard({product:i,sourceList:t.getList1,targetList:t.getList2})}}},[e("ProductItem",{attrs:{product:i,cardDeleting:t.getIsCardDeleting,cardDeletingFailing:t.getIsCardEditingFailing},on:{deleteProduct:function(e){return t.deleteProduct(i.id)},editProduct:function(e){return t.editProduct(i)}}}),e("EditProductModal",{attrs:{isModalEditOpen:t.getIsModalEditOpen,editedProduct:t.getEditedProduct},on:{closeModal:t.closeModal,saveChanges:t.saveChanges}})],1)})),0)],1),e("p",{staticClass:"arrow"},[t._v("⇄")]),e("div",{staticClass:"product-list__column"},[e("h4",{staticClass:"title product-list__column-2"},[t._v("Средняя стадия")]),e("label",{attrs:{for:"sortList2"}},[t._v("Сортировка по рейтингу: ")]),e("select",{staticClass:"product-list__select-sort",attrs:{id:"sortList2"},on:{change:function(e){return t.sortListByRating({list:t.getList2,sortDirection:e.target.value})}}},[e("option",{attrs:{value:"",hidden:""}},[t._v("Выбрать")]),e("option",{attrs:{value:"asc"}},[t._v("по возрастанию")]),e("option",{attrs:{value:"desc"}},[t._v("по убыванию")])]),e("draggable",{ref:"list2Draggable",staticClass:"list-group",attrs:{list:t.getList2,group:"products"}},t._l(t.getList2,(function(i){return e("div",{key:i.id,staticClass:"product-card__wrapper product-list__column-2",on:{click:function(e){return t.moveCard({product:i,sourceList:t.getList2,targetList:t.getList3})}}},[e("ProductItem",{attrs:{product:i,cardDeleting:t.getIsCardDeleting,cardDeletingFailing:t.getIsCardEditingFailing},on:{deleteProduct:function(e){return t.deleteProduct(i.id)},editProduct:function(e){return t.editProduct(i)}}}),e("EditProductModal",{attrs:{isModalEditOpen:t.getIsModalEditOpen,editedProduct:t.getEditedProduct},on:{closeModal:t.closeModal,saveChanges:t.saveChanges}})],1)})),0)],1),e("p",{staticClass:"arrow"},[t._v("⇄")]),e("div",{staticClass:"product-list__column"},[e("h4",{staticClass:"title product-list__column-3"},[t._v("Финальная стадия")]),e("label",{attrs:{for:"sortList3"}},[t._v("Сортировка по рейтингу: ")]),e("select",{staticClass:"product-list__select-sort",attrs:{id:"sortList3"},on:{change:function(e){return t.sortListByRating({list:t.getList3,sortDirection:e.target.value})}}},[e("option",{attrs:{value:"",hidden:""}},[t._v("Выбрать")]),e("option",{attrs:{value:"asc"}},[t._v("по возрастанию")]),e("option",{attrs:{value:"desc"}},[t._v("по убыванию")])]),e("draggable",{ref:"list3Draggable",staticClass:"list-group",attrs:{list:t.getList3,group:"products"}},t._l(t.getList3,(function(i){return e("div",{key:i.id,staticClass:"product-card__wrapper product-list__column-3"},[e("ProductItem",{attrs:{product:i,cardDeleting:t.getIsCardDeleting,cardDeletingFailing:t.getIsCardEditingFailing},on:{deleteProduct:function(e){return t.deleteProduct(i.id)},editProduct:function(e){return t.editProduct(i)}}}),e("EditProductModal",{attrs:{isModalEditOpen:t.getIsModalEditOpen,editedProduct:t.getEditedProduct},on:{closeModal:t.closeModal,saveChanges:t.saveChanges}})],1)})),0)],1)])],1)},d=[],c=i(6983),n=i.n(c),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"product-card"},[e("p",{staticClass:"product-card__category"},[t._v("Категория: "+t._s(t.product.category))]),e("p",{staticClass:"product-card__rating"},[e("span",{staticClass:"product-card__rate"},[t._v(" Рейтинг: "+t._s(t.product.rating.rate)+"★ ")]),e("span",{staticClass:"product-card__users"},[t._v(" на основании "+t._s(t.product.rating.count)+" оценок ")])]),e("h2",{staticClass:"product-card__title"},[t._v(t._s(t.product.title))]),e("img",{staticClass:"product-image",attrs:{src:t.product.image,alt:"Product Image"}}),e("p",{staticClass:"product-card__price"},[t._v("Цена: $ "+t._s(t.product.price))]),e("p",{staticClass:"product-card__description"},[t._v(t._s(t.product.description))]),e("div",{staticClass:"actions"},[e("button",{staticClass:"btn product-card__btn-edit",on:{click:function(e){return t.editProduct(t.product)}}},[t._v("Редактировать")]),e("button",{staticClass:"btn product-card__btn-del",on:{click:function(e){return t.deleteProduct(t.product.id)}}},[t._v("Удалить")])])])},u=[],g={name:"ProductItem",props:{product:{type:Object,required:!0}},methods:{deleteProduct(){this.$emit("deleteProduct",this.product.id)},editProduct(t){return this.$emit("editProduct",t)}}},_=g,p=i(1001),C=(0,p.Z)(_,l,u,!1,null,null,null),m=C.exports,v=function(){var t=this,e=t._self._c;return t.isModalEditOpen?e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-content"},[e("span",{staticClass:"close",on:{click:t.closeModal}},[t._v("×")]),e("h2",[t._v("Редактирование продукта")]),e("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.saveChanges.apply(null,arguments)}}},[e("label",{staticClass:"form__label",attrs:{for:"editedCategory"}},[t._v("Категория:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editedProduct.category,expression:"editedProduct.category"}],staticClass:"form__input",attrs:{type:"text",id:"editedCategory",required:""},domProps:{value:t.editedProduct.category},on:{input:function(e){e.target.composing||t.$set(t.editedProduct,"category",e.target.value)}}}),e("label",{staticClass:"form__label",attrs:{for:"createdImg"}},[t._v("Изображение (измените ссылку на изображение продукта): ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editedProduct.image,expression:"editedProduct.image"}],staticClass:"form__input",attrs:{type:"text",id:"createdImg",required:""},domProps:{value:t.editedProduct.image},on:{input:function(e){e.target.composing||t.$set(t.editedProduct,"image",e.target.value)}}}),e("label",{staticClass:"form__label",attrs:{for:"editedTitle"}},[t._v("Название:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editedProduct.title,expression:"editedProduct.title"}],staticClass:"form__input",attrs:{type:"text",id:"editedTitle",required:""},domProps:{value:t.editedProduct.title},on:{input:function(e){e.target.composing||t.$set(t.editedProduct,"title",e.target.value)}}}),e("label",{staticClass:"form__label",attrs:{for:"editedPrice"}},[t._v("Цена: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editedProduct.price,expression:"editedProduct.price"}],staticClass:"form__input",attrs:{type:"text",id:"editedPrice",required:""},domProps:{value:t.editedProduct.price},on:{input:function(e){e.target.composing||t.$set(t.editedProduct,"price",e.target.value)}}}),e("label",{staticClass:"form__label",attrs:{for:"editedDescription"}},[t._v("Описание:")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editedProduct.description,expression:"editedProduct.description"}],staticClass:"form__textarea",attrs:{id:"editedDescription",required:""},domProps:{value:t.editedProduct.description},on:{input:function(e){e.target.composing||t.$set(t.editedProduct,"description",e.target.value)}}}),e("button",{staticClass:"btn form__btn",attrs:{type:"submit"}},[t._v("Сохранить")])])])]):t._e()},P=[],E={name:"EditProductModal",props:{isModalEditOpen:Boolean,editedProduct:Object},methods:{closeModal(){this.$emit("closeModal")},saveChanges(){this.$emit("saveChanges",this.editedProduct),this.closeModal()}}},f=E,I=(0,p.Z)(f,v,P,!1,null,null,null),D=I.exports,T=function(){var t=this,e=t._self._c;return t.isModalCreateOpen?e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-content"},[e("span",{staticClass:"close",on:{click:t.closeModal}},[t._v("×")]),e("h2",[t._v("Создание нового продукта")]),e("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.saveCreateProduct.apply(null,arguments)}}},[e("label",{staticClass:"form__label",attrs:{for:"createdCategory"}},[t._v("Категория:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.createdProduct.category,expression:"createdProduct.category"}],staticClass:"form__input",attrs:{type:"text",id:"createdCategory",required:""},domProps:{value:t.createdProduct.category},on:{input:function(e){e.target.composing||t.$set(t.createdProduct,"category",e.target.value)}}}),e("label",{staticClass:"form__label",attrs:{for:"createdTitle"}},[t._v("Название:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.createdProduct.title,expression:"createdProduct.title"}],staticClass:"form__input",attrs:{type:"text",id:"createdTitle",required:""},domProps:{value:t.createdProduct.title},on:{input:function(e){e.target.composing||t.$set(t.createdProduct,"title",e.target.value)}}}),e("label",{staticClass:"form__label",attrs:{for:"createdImg"}},[t._v("Изображение (введите ссылку на изображение продукта): ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.createdProduct.image,expression:"createdProduct.image"}],staticClass:"form__input",attrs:{type:"text",id:"createdImg",required:""},domProps:{value:t.createdProduct.image},on:{input:function(e){e.target.composing||t.$set(t.createdProduct,"image",e.target.value)}}}),e("label",{staticClass:"form__label",attrs:{for:"createdPrice"}},[t._v("Цена:")]),e("input",{directives:[{name:"model",rawName:"v-model:change",value:t.createdProduct.price,expression:"createdProduct.price",arg:"change"}],staticClass:"form__input",attrs:{type:"text",id:"createdPrice",required:""},domProps:{value:t.createdProduct.price},on:{input:function(e){e.target.composing||t.$set(t.createdProduct,"price",e.target.value)}}}),e("label",{staticClass:"form__label",attrs:{for:"editedDescription"}},[t._v("Описание:")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.createdProduct.description,expression:"createdProduct.description"}],staticClass:"form__textarea",attrs:{id:"editedDescription",required:""},domProps:{value:t.createdProduct.description},on:{input:function(e){e.target.composing||t.$set(t.createdProduct,"description",e.target.value)}}}),e("button",{staticClass:"btn form__btn",attrs:{type:"submit"}},[t._v("Сохранить")])])])]):t._e()},L=[],A={name:"CreateProductModal",props:{isModalCreateOpen:Boolean,createdProduct:Object},methods:{closeModal(){this.$emit("closeModal")},saveCreateProduct(){this.$emit("saveCreateProduct",this.createdProduct),this.closeModal()}}},b=A,h=(0,p.Z)(b,T,L,!1,null,null,null),O=h.exports,S=i(3822),M={name:"ProductsList",components:{draggable:n(),ProductItem:m,EditProductModal:D,CreateProductModal:O},mounted(){this.loadProducts()},computed:{...(0,S.Se)(["getList1","getList2","getList3","getIsCardsLoading","getIsCardsLoadingFailing","getIsModalCreateOpen","getIsModalEditOpen","getIsCardCreating","getIsCardCreatingFailing","getIsCardEditing","getIsCardEditingFailing","getIsCardDeleting","getIsCardDeletingFailing","getEditedProduct","getCreatedProduct"])},methods:{...(0,S.nv)(["loadProducts","createProduct","saveCreateProduct","closeModal","sortListByRating","editProduct","saveChanges","deleteProduct","moveCard"])}},N=M,R=(0,p.Z)(N,o,d,!1,null,null,null),y=R.exports,x={components:{ProductsList:y}},F=x,G=(0,p.Z)(F,a,s,!1,null,null,null),w=G.exports,$=(i(541),i(4161));const k="https://fakestoreapi.com/products";r.ZP.use(S.ZP);var Z=new S.ZP.Store({state:{isModalCreateOpen:!1,isModalEditOpen:!1,editedProduct:{},createdProduct:{},isCardsLoading:!1,isCardsLoadingFailing:!1,isCardCreating:!1,isCardCreatingFailing:!1,isCardEditing:!1,isCardEditingFailing:!1,isCardDeleting:!1,isCardDeletingFailing:!1,list1:[],list2:[],list3:[]},mutations:{SET_CARDS_LOADING(t,e){t.isCardsLoading=e},SET_CARDS_LOADING_FAILING(t,e){t.isCardsLoadingFailing=e},SET_CARD_CREATING(t,e){t.isCardCreating=e},SET_CARD_CREATING_FAILING(t,e){t.isCardCreatingFailing=e},SET_CARD_EDITING(t,e){t.isCardEditing=e},SET_CARD_EDITING_FAILING(t,e){t.isCardEditingFailing=e},SET_CARD_DELETING(t,e){t.isCardDeleting=e},SET_CARD_DELETING_FAILING(t,e){t.isCardDeletingFailing=e},SET_LIST1(t,e){t.list1=e},UPDATE_LIST1(t,{index:e,product:i}){t.list1.splice(e,1,i)},UPDATE_LIST2(t,{index:e,product:i}){t.list2.splice(e,1,i)},UPDATE_LIST3(t,{index:e,product:i}){t.list3.splice(e,1,i)},SET_MODAL_CREATE_OPEN(t,e){t.isModalCreateOpen=e},SET_MODAL_EDIT_OPEN(t,e){t.isModalEditOpen=e},RESET_MODAL_DATA(t){t.editedProduct={},t.createdProduct={}},SET_EDITED_PRODUCT(t,e){t.editedProduct={...e}},DELETE_PRODUCT(t,e){t.list1=t.list1.filter((t=>t.id!==e)),t.list2=t.list2.filter((t=>t.id!==e)),t.list3=t.list3.filter((t=>t.id!==e))},MOVE_CARD(t,{product:e,sourceList:i,targetList:r}){const a=i.indexOf(e);-1===a||t.isModalEditOpen||(i.splice(a,1),r.unshift(e))},SORT_LIST_BY_RATING(t,{list:e,sortDirection:i}){"asc"===i?e.sort(((t,e)=>t.rating.rate-e.rating.rate)):"desc"===i&&e.sort(((t,e)=>e.rating.rate-t.rating.rate))}},getters:{getList1:t=>t.list1,getList2:t=>t.list2,getList3:t=>t.list3,getIsCardsLoading:t=>t.isCardsLoading,getIsCardsLoadingFailing:t=>t.isCardsLoadingFailing,getIsCardCreating:t=>t.isCardCreating,getIsCardCreatingFailing:t=>t.isCardCreatingFailing,getIsCardEditing:t=>t.isCardEditing,getIsCardEditingFailing:t=>t.isCardEditingFailing,getIsCardDeleting:t=>t.isCardDeleting,getIsCardDeletingFailing:t=>t.isCardDeletingFailing,getIsModalCreateOpen:t=>t.isModalCreateOpen,getIsModalEditOpen:t=>t.isModalEditOpen,getEditedProduct:t=>t.editedProduct,getCreatedProduct:t=>t.createdProduct},actions:{loadProducts(t){t.commit("SET_CARDS_LOADING",!0),$.Z.get(k).then((e=>{t.commit("SET_LIST1",e.data),t.commit("SET_CARDS_LOADING",!1)})).catch((e=>{console.error("Ошибка при загрузке продуктов:",e),t.commit("SET_CARDS_LOADING_FAILING",!0),t.commit("SET_CARDS_LOADING",!1)}))},createProduct({commit:t}){t("SET_MODAL_CREATE_OPEN",!0)},saveCreateProduct(t){t.commit("SET_CARD_CREATING",!0),$.Z.post(k,{title:t.state.createdProduct.title,price:t.state.createdProduct.price,description:t.state.createdProduct.description,image:t.state.createdProduct.image,category:t.state.createdProduct.category}).then((e=>{let i={...e.data,rating:{rate:0,count:0}};t.commit("SET_LIST1",[i,...t.state.list1]),t.commit("SET_CARD_CREATING",!1)})).catch((e=>{console.error("Ошибка создания продукта:",e),t.commit("SET_CARD_CREATING",!1),t.commit("SET_CARD_CREATING_FAILING",!0),setTimeout((()=>{t.commit("SET_CARD_CREATING_FAILING",!1)}),3e3)}))},closeModal({commit:t}){setTimeout((()=>{t("SET_MODAL_CREATE_OPEN",!1),t("SET_MODAL_EDIT_OPEN",!1)}),0),t("RESET_MODAL_DATA")},sortListByRating({commit:t},{list:e,sortDirection:i}){t("SORT_LIST_BY_RATING",{list:e,sortDirection:i})},editProduct({commit:t},e){t("SET_MODAL_EDIT_OPEN",!0),t("SET_EDITED_PRODUCT",{...e})},saveChanges({commit:t,state:e},i){t("SET_CARD_EDITING",!0),$.Z.patch(k+`/${i.id}`,i).then((()=>{const r=e.list1.findIndex((t=>t.id===i.id)),a=e.list2.findIndex((t=>t.id===i.id)),s=e.list3.findIndex((t=>t.id===i.id));-1!==r?t("UPDATE_LIST1",{index:r,product:i}):-1!==a?t("UPDATE_LIST2",{index:a,product:i}):-1!==s&&t("UPDATE_LIST3",{index:s,product:i}),t("SET_CARD_EDITING",!1)})).catch((e=>{console.error("Ошибка при редактировании продукта:",e),t("SET_CARD_EDITING",!1),t("SET_CARD_EDITING_FAILING",!0),setTimeout((()=>{t("SET_CARD_EDITING_FAILING",!1)}),3e3)}))},deleteProduct({commit:t,state:e},i){t("SET_CARD_DELETING",!0),$.Z.patch(k+`/${i}`).then((e=>{t("DELETE_PRODUCT",i<21?e.data.id:i),t("SET_CARD_DELETING",!1)})).catch((e=>{console.error("Ошибка при редактировании продукта:",e),t("SET_CARD_DELETING",!1),t("SET_CARD_DELETING_FAILING",!0),setTimeout((()=>{t("SET_CARD_DELETING_FAILING",!1)}),3e3)}))},moveCard({commit:t},{product:e,sourceList:i,targetList:r}){t("MOVE_CARD",{product:e,sourceList:i,targetList:r})}}});r.ZP.config.productionTip=!1,new r.ZP({store:Z,render:t=>t(w)}).$mount("#app")},9992:function(t,e,i){t.exports=i.p+"img/spinner.5e0310d8.gif"}},e={};function i(r){var a=e[r];if(void 0!==a)return a.exports;var s=e[r]={exports:{}};return t[r].call(s.exports,s,s.exports,i),s.exports}i.m=t,function(){var t=[];i.O=function(e,r,a,s){if(!r){var o=1/0;for(l=0;l<t.length;l++){r=t[l][0],a=t[l][1],s=t[l][2];for(var d=!0,c=0;c<r.length;c++)(!1&s||o>=s)&&Object.keys(i.O).every((function(t){return i.O[t](r[c])}))?r.splice(c--,1):(d=!1,s<o&&(o=s));if(d){t.splice(l--,1);var n=a();void 0!==n&&(e=n)}}return e}s=s||0;for(var l=t.length;l>0&&t[l-1][2]>s;l--)t[l]=t[l-1];t[l]=[r,a,s]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){i.p="/kanban/"}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,s,o=r[0],d=r[1],c=r[2],n=0;if(o.some((function(e){return 0!==t[e]}))){for(a in d)i.o(d,a)&&(i.m[a]=d[a]);if(c)var l=c(i)}for(e&&e(r);n<o.length;n++)s=o[n],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return i.O(l)},r=self["webpackChunkkanban"]=self["webpackChunkkanban"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=i.O(void 0,[998],(function(){return i(9340)}));r=i.O(r)})();
//# sourceMappingURL=app.7d3a5b5c.js.map